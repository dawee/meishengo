@import 'common';

@boardSize: 98%;
@margin: 5%;
@boardColor: lighten(@justHadToBreathe, 10%);
@blackAlike: darken(@boardColor, 70%);
@whiteAlike: lighten(@boardColor, 15%);

mei-content-game {
  display: block;
  width: 100%;
  height: 100%;
}

mei-goban {
  position: absolute;
  mei-board {
    position: absolute;
    top: 0;
    left: 0;
    width: @boardSize;
    height: @boardSize;
    background-color: lighten(@boardColor, 5%);
  }

  mei-board-top-edge {
    position: absolute;
    top: 0;
    left: 0;
    width: @boardSize;
    height: 1px;
    background-color: lighten(@boardColor, 6%);
  }

  mei-board-left-edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 1px;
    height: @boardSize;
    background-color: @whiteAlike;
  }

  mei-board-right-edge {
    position: absolute;
    right: 0;
    top: (100% - @boardSize) / 2;
    width: 100% - @boardSize;
    height: @boardSize;
    background-color: @blackAlike;
    .skew(0deg, 45deg);
  }

  mei-board-bottom-edge {
    position: absolute;
    bottom: 0;
    left: (100% - @boardSize) / 2;
    height: 100% - @boardSize;
    width: @boardSize;
    background-color: darken(@boardColor, 60%);
    .skew(45deg, 0deg);
  }

  .sized-goban (@size) {

    mei-intersections {
      display: block;
      margin: @margin 0 0 @margin;
      width: 100% - (@margin * 2);
      height: 100% - (@margin * 2);

      mei-row {
        display: block;
        height: 100% / @size;
        width: 100%;

        mei-intersection {
          position: relative;
          display: inline-block;
          width: 100% / @size;
          height: 100%;

          .draw {
            background-color: @blackAlike;
          }

          mei-vertical-line {
            position: absolute;
            width: 2px;
            height: 100%;
            left: 50%;
            margin-left: -1px;
            top: 0;
          }

          mei-horizontal-line {
            position: absolute;
            height: 2px;
            min-height: 1px;
            margin-top: -1px;
            width: 100%;
            top: 49%;
            left: 0;
          }

          // Walls

          &.top { mei-vertical-line { top: 50%; height: 50%;} }
          &.bottom {mei-vertical-line { height: 50%; }}
          &.left { mei-horizontal-line { left: 50%; width: 50%;} }
          &.right { mei-horizontal-line { width: 50%; } }

          mei-hoshi {
            position: absolute;
            display: block;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            margin-left: -4px;
            margin-top: -4px;
            border-radius: 50%;
          }
          
          mei-stone {
            position: absolute;
            width: 98%;
            height: 98%;
            left: 1%;
            top: 1%;
          }

        }
      }

    }

  }

  &.small {
    mei-board mei-intersections mei-row mei-intersection {
      mei-vertical-line { width: 1px; }
      mei-horizontal-line { height: 1px; }
      mei-hoshi {
        width: 4px;
        height: 4px;
        margin-left: -3px;
        margin-top: -3px;
      }
    }

  }

  &.size-19 { .sized-goban(19); }
  &.size-13 { .sized-goban(13); }
  &.size-9 { .sized-goban(9); }
}



mei-stone {
  
  .stone(@boardColor, @shadow, @light) {
    display: block;
    overflow: hidden;
    background: @boardColor;
    border-radius: 50%;
    box-shadow: 2px 2px 2px black;

    .shadow, .light {
      position: absolute;
      display: block;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      box-shadow: 2px 2px 2px white inset;
    }

    .shadow {
      background-color: black;
      top: 0;
      left: 0;
      opacity: @shadow;
    }

    .light {
      background-color: white;
      top: -20%;
      left: -20%;
      opacity: @light;
    }
  }


  &.black {
    .stone(@blackAlike, 0.3, 0.1);
    
    .shadow {
      background-color: @blackAlike;
      top: 0;
      left: 0;
      box-shadow: 1px 1px 1px white inset;
    }

  }
  &.white {.stone(@whiteAlike, 0.3, 0.4);}
}


mei-board-creation {
  position: absolute;
  display: block;
  text-align: center;
  z-index: 2;
  top: 0;
  left: 0;
  width: 400px;
  bottom: 0;
  border-right: 6px solid @theTurquoise;
  background-color: lighten(@hardGuys, 2%);
  .transition(1s, ease-out);

  &.closed {
    left: -500px;
  }

  h2 {
    position: absolute;
    top: 15px;
    left: 0;

    .title(@houseIGrewUpIn, 0.8);
    margin-top: 48px;
  }

  h3 {
    position: relative;

    .title(@justHadToBreathe, 0.6);
    margin-top: 48px;
  }

  mei-goban-choice {
    display: block;
    overflow: hidden;
    margin: 10em 0 25% 0;
    height: 130px;

    mei-goban {
      position: relative;
      display: inline-block;
      opacity: 0.5;
      .transition-duration(0.3s);
      width: 130px;
      height: 130px;
      margin-right: 2px;
      &:last-child {
        margin-right: 0; 
      }

      &.selected {opacity: 1;}
    }

  }

  mei-color-choice {
    display: block;
    overflow: hidden;
    margin-top: 5%;
    height: 60px;

    mei-stone {
      position: relative;
      .transition-duration(0.3s);

      &.black, &.white {
        display: inline-block;
      }
      opacity: 0.3;
      width: 50px;
      height: 50px;
      margin-right: 10px;
      &:last-child {
        margin-right: 0; 
      }
      &.selected { opacity: 1; }
    }
  }

  button {
    position: absolute;
    bottom: 15px;
    right: 15px;
    background-color: @houseIGrewUpIn;
    .title(@blackAlike, 0.5);
    height: 50px;
    width: 100px;
    border: none;
  }

}
