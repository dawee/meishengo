@import 'common';

.popup {
  
  &.join {

    .dialog {
      width: 300px;
      margin: 0 0 0 -150px;
    }

    .choices {
      position: relative;
      width: 100%;
      margin: 10px 0 20px 0;
      text-align: center;

      .choice {
        display: inline-block;
        z-index: 5;
        background-size: 100% 100%;
        margin: 0 20px 0 20px;
        width: 80px;
        height: 80px;
        opacity: 0.4;
        .transition-duration(0.8s);

        &:hover { opacity: 1; }
        &.black { background-image: url(/img/bowl-black.png); }
        &.white { background-image: url(/img/bowl-white.png); }
        &.observer { background-image: url(/img/observer.png); }
      }

    }

  }

}

#game {
  position: absolute;
  width: 180vh;
  height: 90vh;
  bottom: 10px;
  left: 10vh;
  margin: -45vh 0 0 0;

  @seatInfoHeight: 1.6em;
  @seatInfoPadding: 0.4em;

  .seat {
    position: absolute;
    width: 4.8em;
    height: 30%;
    left: 50%;
    font-size: 0.8em;
    margin: 0 0 0 15px;
    .transition(1.5s, ease-in-out);

    opacity: 1;

    &.free { opacity: 0.2; }


    .label {
      display: block;
      text-align: center;
      width: 100%;
      left: 0;
      height: @seatInfoHeight;
      padding-top: @seatInfoPadding;
      margin: @seatInfoPadding 0 0 0;
      text-transform: uppercase;
      margin: @seatInfoPadding 0 0 0;
      top: 0;

      .transition(1.5s, ease-in-out);
    }

    .prisoners {
      display: block;
      text-align: left;
      margin-top: @seatInfoPadding; 
      padding: @seatInfoPadding 0 0 50%;
      width: 100%;
      color: @wood;
      top: @seatInfoHeight;
      height: @seatInfoHeight;
      background-size: auto 100%;    
      background-position: 0 0;
      background-repeat: no-repeat;
    }

    @whiteLabelColor: lighten(@house, 10%);
    @blackLabelColor: darken(@wood, 20%);

    .opponentSeat { top: 0; }

    .playerSeat { top: 70%; }

    &.white {
      // Default Opponent seat
      .opponentSeat();
      
      .label {
        background-color: @whiteLabelColor;
        color: @blackLabelColor;
      }

      .prisoners { background-image: url(/img/black-stone.png); }

      &.player { .playerSeat(); }
    }

    &.black {
      // Default Player seat
      .playerSeat();
      
      .label {
        background-color: @blackLabelColor;
        color: @whiteLabelColor;
      }

      .prisoners { background-image: url(/img/white-stone.png); }

      &.opponent { .opponentSeat(); }
    }

  }

  .goban {
    position: absolute;
    overflow: hidden;
    top:0;
    left: 0;

    width: 50%;
    height: 100%;

    background: url(/img/Melamine-wood-retro.png) repeat;
    .transition(1.5s, ease-in-out);
    .bordered(lighten(@wood, 20%), darken(@wood, 10%), darken(@wood, 10%), lighten(@wood, 20%));
    .box-shadow(6px 7px 8px 3px fadeout(darken(@wood, 20%), 50%));

    &.white {
      .rotation(180deg);
      .box-shadow(none);
      .bordered(darken(@wood, 10%), lighten(@wood, 20%), lighten(@wood, 20%), darken(@wood, 10%));
      .box-shadow(-6px -7px 8px 3px darken(@wood, 20%));
    }

    .intersections {
      position: relative;
      margin: 5% 0 0 5%;
      width: 90%;
      height: 90%;

      .line {
        position: relative;
        margin: 0;
        padding: 0;
        width: 100%;

        .intersection {
          position: relative;
          display: inline-block;
          padding: 0;
          margin: 0;
          background-image: url(/img/intersection-normal.png);
          background-size: 100% 100%;
          background-opacity: 0;

          /* Goban Walls */

          &.top { background-image: url(/img/intersection-top.png); }
          &.right { background-image: url(/img/intersection-right.png); }
          &.bottom { background-image: url(/img/intersection-bottom.png); }
          &.left { background-image: url(/img/intersection-left.png); }

          /* Goban Corners */

          &.top.left { background-image: url(/img/intersection-top-left.png); }
          &.top.right { background-image: url(/img/intersection-top-right.png); }
          &.bottom.right { background-image: url(/img/intersection-bottom-right.png); }
          &.bottom.left { background-image: url(/img/intersection-bottom-left.png); }

          /* Goban Hoshi */

          &.hoshi { background-image: url(/img/intersection-hoshi.png); }

          overflow: hidden;

          .stone {
            width: 100%;
            height: 100%;
            opacity: 0;
            background-size: 100% 100%;
         
            &.put, .put:hover { opacity: 1; }
            &.black { background-image: url(/img/black-stone.png); }
            &.white { background-image: url(/img/white-stone.png); }

          }

          &.latest {

            .stone.black { background-image: url(/img/black-stone-latest.png); }
            .stone.white { background-image: url(/img/white-stone-latest.png); }
            

          }

        }

      }

    }

    &.size-19 .intersections {
      padding: 0.5% 0 0 0.5%;
      .intersection { width: 5.26%; height: 5.26%; }
    }
    &.size-13 .intersections {
      padding: 0.15% 0 0 0.15%;
      .intersection { width: 7.69%; height: 7.69%; }
    }

    &.size-9 .intersection { width: 11.11%; height: 11.11%; }

    &.unlocked .intersection .stone:hover { opacity: 0.5; }
  }

}

#title {
  position: absolute;
  top: 0;
  left: 10vh;
  height: 5vh;
  width: 100%;
  background-image: url(/img/title.png);
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: auto 100%;  
}





