@import 'common';

mei-goban {
  position: absolute;

  @boardSize: 98%;
  @margin: 5%;
  @color: lighten(@justHadToBreathe, 10%);
  @blackAlike: darken(@color, 70%);
  @whiteAlike: lighten(@color, 10%);

  mei-board {
    position: absolute;
    top: 0;
    left: 0;
    width: @boardSize;
    height: @boardSize;
    background-color: lighten(@color, 5%);
  }

  mei-board-top-edge {
    position: absolute;
    top: 0;
    left: 0;
    width: @boardSize;
    height: 1px;
    background-color: lighten(@color, 6%);
  }

  mei-board-left-edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 1px;
    height: @boardSize;
    background-color: @whiteAlike;
  }

  mei-board-right-edge {
    position: absolute;
    right: 0;
    top: (100% - @boardSize) / 2;
    width: 100% - @boardSize;
    height: @boardSize;
    background-color: @blackAlike;
    .skew(0deg, 45deg);
  }

  mei-board-bottom-edge {
    position: absolute;
    bottom: 0;
    left: (100% - @boardSize) / 2;
    height: 100% - @boardSize;
    width: @boardSize;
    background-color: darken(@color, 60%);
    .skew(45deg, 0deg);
  }

  .sized-goban (@size) {

    mei-intersections {
      display: block;
      margin: @margin 0 0 @margin;
      width: 100% - (@margin * 2);
      height: 100% - (@margin * 2);

      mei-row {
        display: block;
        height: 100% / @size;
        width: 100%;

        mei-intersection {
          position: relative;
          display: inline-block;
          width: 100% / @size;
          height: 100%;

          .draw {
            background-color: fadeOut(@blackAlike, 30%);
          }

          mei-vertical-line {
            position: absolute;
            width: 2px;
            height: 100%;
            left: 50%;
            margin-left: -1px;
            top: 0;
          }

          mei-horizontal-line {
            position: absolute;
            height: 2px;
            margin-top: -1px;
            width: 100%;
            top: 50%;
            left: 0;
          }

          // Walls

          &.top { mei-vertical-line { top: 50%; height: 50%;} }
          &.bottom {mei-vertical-line { height: 50%; }}
          &.left { mei-horizontal-line { left: 50%; width: 50%;} }
          &.right { mei-horizontal-line { width: 50%; } }

          mei-hoshi {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            margin: -4px 0 0 -4px; 
            border-radius: 50%;
          }

          mei-stone {
            position: absolute;
            width: 98%;
            height: 98%;
            left: 1%;
            top: 1%;

            border-radius: 50%;

            &.black {background-color: @blackAlike;}
            &.white {background-color: @whiteAlike;}
          }
        }
      }

    }

  }

  &.size-19 { .sized-goban(19); }
  &.size-13 { .sized-goban(13); }
  &.size-9 { .sized-goban(9); }
}